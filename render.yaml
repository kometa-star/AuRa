services:
  - type: web
    name: flask-tailwind-app
    env: python
    buildCommand: |
      npm install
      npm run build
      pip install -r requirements.txt
    startCommand: gunicorn app:app --bind 0.0.0.0:10000
    buildFilter:
      paths:
        - "templates/**"
        - "static/**"
        - "input.css"
        - "tailwind.config.js"
        - "package.json"
        - "app.py"
        - "requirements.txt"
    autoDeploy: true
